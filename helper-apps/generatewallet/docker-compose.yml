version: "3.8"

services:
  populatewallet:
    build: .
    volumes:
      - "${PWD}/wallet:/app/wallet2"
      - "../../network/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp:/app/msp"
    networks:
      - hyperledger
    command: "bash -c 'cd /app && /app/generateWallet && cp /app/wallet/* /app/wallet2/ && chmod 644 /app/wallet2/*'"
      
networks:
  hyperledger:
    name: fabric_test
    external: true
